<?xml version="1.0" encoding="utf-8"?>
<feed xmlns="http://www.w3.org/2005/Atom">
  <title>PA &amp; CODING</title>
  
  <subtitle>求仁得仁</subtitle>
  <link href="https://jxch.github.io/atom.xml" rel="self"/>
  
  <link href="https://jxch.github.io/"/>
  <updated>2023-05-22T21:30:13.194Z</updated>
  <id>https://jxch.github.io/</id>
  
  <author>
    <name>钱不寒</name>
    
  </author>
  
  <generator uri="https://hexo.io/">Hexo</generator>
  
  <entry>
    <title>WEB逆向-下载腾讯课堂已购视频</title>
    <link href="https://jxch.github.io/2023/05/23/ni-xiang/web-ni-xiang-xia-zai-teng-xun-ke-tang-yi-gou-shi-pin/"/>
    <id>https://jxch.github.io/2023/05/23/ni-xiang/web-ni-xiang-xia-zai-teng-xun-ke-tang-yi-gou-shi-pin/</id>
    <published>2023-05-22T16:03:26.000Z</published>
    <updated>2023-05-22T21:30:13.194Z</updated>
    
    <content type="html"><![CDATA[<ol><li>浏览器F12，然后打开要观看的视频</li><li>"网络"中找到<code>voddrm.token.xxxxxxxxx</code>，请求网址就是m3u8的地址</li><li>查看"启动器"，点击进入<code>t.load</code>对应的js文件</li><li>搜索<code>decryptkey</code>，找到类似<code>r.decryptdata ? (this.decryptkey = r.decryptdata.key = new Uint8Array(e.data),</code>的代码行</li><li>在其下一行打上断点</li><li>刷新页面进入断点</li><li>查看key: <code>r.levelkey.key</code></li><li>转为16进制: <code>Array.from(r.levelkey.key).map(i =&gt; i.toString(16).padStart(2, '0')).join('');</code></li><li>使用工具下载合并m3u8: <a href="https://github.com/nilaoda/N_m3u8DL-CLI/releases">N_m3u8DL-CLI</a><ul><li>填写m3u8地址和自定义key</li></ul></li></ol><p>有时这个m3u8地址可能有问题，可以刷新重试，也可以用浏览器的<code>Video DownloadHelper</code>插件获取地址<br>建议使用<code>Video DownloadHelper</code>，方便快捷</p><hr><p>使用批量工具下载: <a href="https://github.com/Prince-cool/tx_course_download/releases">tx_course_download</a></p><ul><li>获取 cookie: <code>document.cookie</code></li><li>下载目录: <code>视频</code>，下载时可用目录联接，<code>mklink /J sources target</code></li></ul>]]></content>
    
    
      
      
    <summary type="html">&lt;ol&gt;
&lt;li&gt;浏览器F12，然后打开要观看的视频&lt;/li&gt;
&lt;li&gt;&quot;网络&quot;中找到&lt;code&gt;voddrm.token.xxxxxxxxx&lt;/code&gt;，请求网址就是m3u8的地址&lt;/li&gt;
&lt;li&gt;查看&quot;启动器&quot;，点击进入&lt;code&gt;t.load&lt;/code&gt;对应的js文件</summary>
      
    
    
    
    <category term="逆向工程" scheme="https://jxch.github.io/categories/%E9%80%86%E5%90%91%E5%B7%A5%E7%A8%8B/"/>
    
    
    <category term="WEB逆向" scheme="https://jxch.github.io/tags/WEB%E9%80%86%E5%90%91/"/>
    
  </entry>
  
  <entry>
    <title>Docker-本地推送镜像成功但是docker hub里面没有更新镜像</title>
    <link href="https://jxch.github.io/2023/05/22/yun-wei/docker-ben-di-tui-song-jing-xiang-cheng-gong-dan-shi-docker-hub-li-mian-mei-you-geng-xin-jing-xiang/"/>
    <id>https://jxch.github.io/2023/05/22/yun-wei/docker-ben-di-tui-song-jing-xiang-cheng-gong-dan-shi-docker-hub-li-mian-mei-you-geng-xin-jing-xiang/</id>
    <published>2023-05-21T16:12:27.000Z</published>
    <updated>2023-05-21T16:24:48.592Z</updated>
    
    <content type="html"><![CDATA[<ol><li>登录 docker: <code>docker login</code> 和GUI登录</li><li><a href="https://hub.docker.com/settings/security">创建令牌登录</a>: <code>docker login --username xxx</code> 然后输入令牌</li><li>删除 <code>moby/buildkit:buildx-stable-1</code> 镜像的全部内容</li><li>重新推送，等待一段时间</li></ol><p>有必要的话，开启全局代理</p>]]></content>
    
    
      
      
    <summary type="html">&lt;ol&gt;
&lt;li&gt;登录 docker: &lt;code&gt;docker login&lt;/code&gt; 和GUI登录&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;https://hub.docker.com/settings/security&quot;&gt;创建令牌登录&lt;/a&gt;: &lt;code&gt;docker lo</summary>
      
    
    
    
    <category term="运维手册" scheme="https://jxch.github.io/categories/%E8%BF%90%E7%BB%B4%E6%89%8B%E5%86%8C/"/>
    
    
    <category term="Docker" scheme="https://jxch.github.io/tags/Docker/"/>
    
  </entry>
  
  <entry>
    <title>CDN-AWS CloudFront 接入</title>
    <link href="https://jxch.github.io/2023/05/20/yun-wei/cdn-aws-cloudfront-jie-ru/"/>
    <id>https://jxch.github.io/2023/05/20/yun-wei/cdn-aws-cloudfront-jie-ru/</id>
    <published>2023-05-19T23:15:53.000Z</published>
    <updated>2023-05-19T23:30:03.627Z</updated>
    
    <content type="html"><![CDATA[<ol><li><a href="https://us-east-1.console.aws.amazon.com/cloudfront/v3/home?region=ap-northeast-1#/distributions/create">创建分配</a></li><li>填写源的完整域名和名称</li><li>缓存选 <code>Legacy cache settings</code></li><li>不启用 WAF</li><li>添加CNAME(自定义域名，与源域名不同)和SSL证书</li><li>创建分配，获取分配域名</li><li>去DNS注册商管理界面添加CNAME记录，将自定义域名映射到CloudFront分配的域名上</li><li>其他选项自行配置，比如HTTPS和HTTP端口（指的是源的端口，ACF的端口只能是80和443，建议只进行HTTPS代理，安全）</li></ol><p>等待几分钟后，在浏览器输入自定义域名会直接跳转到源服务. 比如源HTTPS的端口是443，那么页面就会显示源服务器443端口返回的信息</p>]]></content>
    
    
      
      
    <summary type="html">&lt;ol&gt;
&lt;li&gt;&lt;a href=&quot;https://us-east-1.console.aws.amazon.com/cloudfront/v3/home?region=ap-northeast-1#/distributions/create&quot;&gt;创建分配&lt;/a&gt;&lt;/li&gt;
&lt;li</summary>
      
    
    
    
    <category term="运维手册" scheme="https://jxch.github.io/categories/%E8%BF%90%E7%BB%B4%E6%89%8B%E5%86%8C/"/>
    
    
    <category term="CDN" scheme="https://jxch.github.io/tags/CDN/"/>
    
  </entry>
  
  <entry>
    <title>TLS-AWS Certificate Manager 申请证书</title>
    <link href="https://jxch.github.io/2023/05/20/yun-wei/tls-aws-certificate-manager-shen-qing-zheng-shu/"/>
    <id>https://jxch.github.io/2023/05/20/yun-wei/tls-aws-certificate-manager-shen-qing-zheng-shu/</id>
    <published>2023-05-19T23:03:54.000Z</published>
    <updated>2023-05-19T23:14:28.002Z</updated>
    
    <content type="html"><![CDATA[<ol><li><a href="https://us-east-1.console.aws.amazon.com/acm/home?region=us-east-1#/certificates/request">请求证书</a></li><li>填写完全限定域名，选择DNS验证</li><li>去域名注册商管理界面，添加DNS验证信息（ACM给的CNAME名称有问题: <code>xxx.域名.</code>，所以建议直接添加以下五条信息）</li></ol><table><thead><tr><th>类型</th><th>Host</th><th>Value</th></tr></thead><tbody><tr><td>CNAME</td><td>xxx.子域名</td><td>value</td></tr><tr><td>CNAME</td><td>xxx.域名</td><td>value</td></tr><tr><td>TXT</td><td>xxx</td><td>value</td></tr><tr><td>TXT</td><td>xxx.域名</td><td>value</td></tr><tr><td>TXT</td><td>xxx.子域名</td><td>value</td></tr></tbody></table><hr><p>等待几分钟后，ACM管理界面证书状态更新为<code>已颁发</code>，就表示验证成功，可以使用了，然后就可以删除上述五条记录了</p>]]></content>
    
    
      
      
    <summary type="html">&lt;ol&gt;
&lt;li&gt;&lt;a href=&quot;https://us-east-1.console.aws.amazon.com/acm/home?region=us-east-1#/certificates/request&quot;&gt;请求证书&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;填写完全限定域名，选择DNS</summary>
      
    
    
    
    <category term="运维手册" scheme="https://jxch.github.io/categories/%E8%BF%90%E7%BB%B4%E6%89%8B%E5%86%8C/"/>
    
    
    <category term="TLS" scheme="https://jxch.github.io/tags/TLS/"/>
    
  </entry>
  
  <entry>
    <title>TLS-key和crt转pem</title>
    <link href="https://jxch.github.io/2023/05/20/yun-wei/tls-key-he-crt-zhuan-pem/"/>
    <id>https://jxch.github.io/2023/05/20/yun-wei/tls-key-he-crt-zhuan-pem/</id>
    <published>2023-05-19T22:47:59.000Z</published>
    <updated>2023-05-19T23:12:35.439Z</updated>
    
    <content type="html"><![CDATA[<h2 id="ECDSA-P-256">ECDSA P 256</h2><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash">openssl pkcs8 <span class="token parameter variable">-in</span> xxx.key <span class="token parameter variable">-topk8</span> <span class="token parameter variable">-nocrypt</span> <span class="token parameter variable">-out</span> xxx.key.pemopenssl x509 <span class="token parameter variable">-in</span> xxx.crt <span class="token parameter variable">-out</span> xxx.crt.pem<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre><h2 id="RSA">RSA</h2><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash">openssl rsa <span class="token parameter variable">-in</span> xxx.key <span class="token parameter variable">-out</span> xxx.key.pemopenssl x509 <span class="token parameter variable">-in</span> xxx.crt <span class="token parameter variable">-out</span> xxx.crt.pem<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre>]]></content>
    
    
      
      
    <summary type="html">&lt;h2 id=&quot;ECDSA-P-256&quot;&gt;ECDSA P 256&lt;/h2&gt;
&lt;pre class=&quot;line-numbers language-bash&quot; data-language=&quot;bash&quot;&gt;&lt;code class=&quot;language-bash&quot;&gt;openssl pkcs8</summary>
      
    
    
    
    <category term="运维手册" scheme="https://jxch.github.io/categories/%E8%BF%90%E7%BB%B4%E6%89%8B%E5%86%8C/"/>
    
    
    <category term="TLS" scheme="https://jxch.github.io/tags/TLS/"/>
    
  </entry>
  
  <entry>
    <title>WIN-开启Chrome浏览器的Google翻译</title>
    <link href="https://jxch.github.io/2023/05/18/coding/win-kai-qi-chrome-liu-lan-qi-de-google-fan-yi/"/>
    <id>https://jxch.github.io/2023/05/18/coding/win-kai-qi-chrome-liu-lan-qi-de-google-fan-yi/</id>
    <published>2023-05-18T03:02:44.000Z</published>
    <updated>2023-05-18T03:04:43.903Z</updated>
    
    <content type="html"><![CDATA[<ol><li>去设置里面开启Google翻译功能</li><li>开启系统的全局代理，让浏览器走系统代理</li><li>找到一个自动翻译的页面，让浏览器自动翻译</li><li>关闭系统代理，切换回浏览器的自动代理</li></ol>]]></content>
    
    
      
      
    <summary type="html">&lt;ol&gt;
&lt;li&gt;去设置里面开启Google翻译功能&lt;/li&gt;
&lt;li&gt;开启系统的全局代理，让浏览器走系统代理&lt;/li&gt;
&lt;li&gt;找到一个自动翻译的页面，让浏览器自动翻译&lt;/li&gt;
&lt;li&gt;关闭系统代理，切换回浏览器的自动代理&lt;/li&gt;
&lt;/ol&gt;
</summary>
      
    
    
    
    <category term="使用手册" scheme="https://jxch.github.io/categories/%E4%BD%BF%E7%94%A8%E6%89%8B%E5%86%8C/"/>
    
    
    <category term="WIN" scheme="https://jxch.github.io/tags/WIN/"/>
    
  </entry>
  
  <entry>
    <title>Caddy2-获取证书</title>
    <link href="https://jxch.github.io/2023/05/17/yun-wei/caddy2-huo-qu-zheng-shu/"/>
    <id>https://jxch.github.io/2023/05/17/yun-wei/caddy2-huo-qu-zheng-shu/</id>
    <published>2023-05-17T02:18:21.000Z</published>
    <updated>2023-05-19T23:12:15.400Z</updated>
    
    <content type="html"><![CDATA[<h2 id="docker-compose-yml">docker-compose.yml</h2><pre class="line-numbers language-yaml" data-language="yaml"><code class="language-yaml"><span class="token key atrule">version</span><span class="token punctuation">:</span> <span class="token string">'3.8'</span><span class="token key atrule">services</span><span class="token punctuation">:</span>  <span class="token key atrule">caddy</span><span class="token punctuation">:</span>    <span class="token key atrule">image</span><span class="token punctuation">:</span> caddy    <span class="token key atrule">ports</span><span class="token punctuation">:</span>      <span class="token punctuation">-</span> <span class="token string">"80:80"</span>      <span class="token punctuation">-</span> <span class="token string">"443:443"</span>      <span class="token punctuation">-</span> <span class="token string">"443:443/udp"</span>    <span class="token key atrule">volumes</span><span class="token punctuation">:</span>      <span class="token punctuation">-</span> ./caddy/file/Caddyfile<span class="token punctuation">:</span>/etc/caddy/Caddyfile      <span class="token punctuation">-</span> ./caddy/data<span class="token punctuation">:</span>/data      <span class="token punctuation">-</span> ./caddy/config<span class="token punctuation">:</span>/config<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h2 id="Caddyfile">Caddyfile</h2><pre class="line-numbers language-properties" data-language="properties"><code class="language-properties"><span class="token key attr-name">xxx.xxxxx.com</span> <span class="token value attr-value">{</span>  <span class="token key attr-name">    root</span> <span class="token value attr-value">* /usr/share/caddy</span>    file_server<span class="token key attr-name">    log</span> <span class="token value attr-value">{</span><span class="token key attr-name">        output</span> <span class="token value attr-value">file /var/log/caddy/access.log</span>    }<span class="token key attr-name">    tls</span> <span class="token value attr-value">xicheng.jiang.1@gmail.com</span><span class="token key attr-name">    tls</span> <span class="token value attr-value">{</span><span class="token key attr-name">        protocols</span> <span class="token value attr-value">tls1.2 tls1.3</span><span class="token key attr-name">        ciphers</span> <span class="token value attr-value">TLS_ECDHE_ECDSA_WITH_AES_256_GCM_SHA384 TLS_ECDHE_ECDSA_WITH_CHACHA20_POLY1305_SHA256</span>    }}<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><hr><p>证书保存在<code>data</code>目录里，使用<code>tree</code>命令查看目录结构就能找到</p>]]></content>
    
    
      
      
    <summary type="html">&lt;h2 id=&quot;docker-compose-yml&quot;&gt;docker-compose.yml&lt;/h2&gt;
&lt;pre class=&quot;line-numbers language-yaml&quot; data-language=&quot;yaml&quot;&gt;&lt;code class=&quot;language-yaml&quot;</summary>
      
    
    
    
    <category term="运维手册" scheme="https://jxch.github.io/categories/%E8%BF%90%E7%BB%B4%E6%89%8B%E5%86%8C/"/>
    
    
    <category term="Caddy2" scheme="https://jxch.github.io/tags/Caddy2/"/>
    
    <category term="TLS" scheme="https://jxch.github.io/tags/TLS/"/>
    
  </entry>
  
  <entry>
    <title>tensorflow-ValueError logits and labels must have the same shape, received ((None, 240, 1) vs (None,)).</title>
    <link href="https://jxch.github.io/2023/05/16/coding/tensorflow-valueerror-logits-and-labels-must-have-the-same-shape-received-none-240-1-vs-none/"/>
    <id>https://jxch.github.io/2023/05/16/coding/tensorflow-valueerror-logits-and-labels-must-have-the-same-shape-received-none-240-1-vs-none/</id>
    <published>2023-05-16T11:28:54.000Z</published>
    <updated>2023-05-16T11:30:23.901Z</updated>
    
    <content type="html"><![CDATA[<p>如果输入的 <code>shape</code> 都没问题，那应该是没加 <code>Flatten</code> 的原因</p><pre class="line-numbers language-python" data-language="python"><code class="language-python">model <span class="token operator">=</span> tf<span class="token punctuation">.</span>keras<span class="token punctuation">.</span>models<span class="token punctuation">.</span>Sequential<span class="token punctuation">(</span><span class="token punctuation">[</span>    <span class="token comment"># input_shape 保持和数据集一致</span>    tf<span class="token punctuation">.</span>keras<span class="token punctuation">.</span>layers<span class="token punctuation">.</span>Dense<span class="token punctuation">(</span><span class="token number">32</span><span class="token punctuation">,</span>input_shape<span class="token operator">=</span><span class="token punctuation">(</span><span class="token number">240</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">)</span><span class="token punctuation">,</span> activation<span class="token operator">=</span><span class="token string">'relu'</span><span class="token punctuation">)</span><span class="token punctuation">,</span>    tf<span class="token punctuation">.</span>keras<span class="token punctuation">.</span>layers<span class="token punctuation">.</span>Flatten<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span>    tf<span class="token punctuation">.</span>keras<span class="token punctuation">.</span>layers<span class="token punctuation">.</span>Dense<span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span> activation<span class="token operator">=</span><span class="token string">'sigmoid'</span><span class="token punctuation">)</span><span class="token punctuation">,</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>]]></content>
    
    
      
      
    <summary type="html">&lt;p&gt;如果输入的 &lt;code&gt;shape&lt;/code&gt; 都没问题，那应该是没加 &lt;code&gt;Flatten&lt;/code&gt; 的原因&lt;/p&gt;
&lt;pre class=&quot;line-numbers language-python&quot; data-language=&quot;python&quot;&gt;&lt;code </summary>
      
    
    
    
    <category term="排错笔记" scheme="https://jxch.github.io/categories/%E6%8E%92%E9%94%99%E7%AC%94%E8%AE%B0/"/>
    
    
    <category term="tensorflow" scheme="https://jxch.github.io/tags/tensorflow/"/>
    
  </entry>
  
  <entry>
    <title>jhipster-error &#39;./lib/util/namespace&#39; is not defined by exports in &#39;xxxx/package.json&#39;</title>
    <link href="https://jxch.github.io/2023/05/15/yun-wei/jhipster-error-namespace-is-not-defined-by-exports-in-package-json/"/>
    <id>https://jxch.github.io/2023/05/15/yun-wei/jhipster-error-namespace-is-not-defined-by-exports-in-package-json/</id>
    <published>2023-05-15T10:54:48.000Z</published>
    <updated>2023-05-15T11:02:08.656Z</updated>
    
    <content type="html"><![CDATA[<p><code>package.json</code> 中的 <code>exports</code> 中添加 <code>"./lib/util/namespace": "./lib/util/namespace.js"</code></p><pre class="line-numbers language-json" data-language="json"><code class="language-json"><span class="token property">"exports"</span><span class="token operator">:</span> <span class="token punctuation">{</span>  <span class="token property">"."</span><span class="token operator">:</span> <span class="token string">"./lib/environment.js"</span><span class="token punctuation">,</span>  <span class="token property">"./cli/"</span><span class="token operator">:</span> <span class="token string">"./cli/"</span><span class="token punctuation">,</span>  <span class="token property">"./lib/"</span><span class="token operator">:</span> <span class="token string">"./lib/"</span><span class="token punctuation">,</span>  <span class="token property">"./lib/util/"</span><span class="token operator">:</span> <span class="token string">"./lib/util/"</span><span class="token punctuation">,</span>  <span class="token property">"./adapter"</span><span class="token operator">:</span> <span class="token string">"./lib/adapter.js"</span><span class="token punctuation">,</span>  <span class="token property">"./conflicter"</span><span class="token operator">:</span> <span class="token string">"./lib/util/conflicter.js"</span><span class="token punctuation">,</span>  <span class="token property">"./log"</span><span class="token operator">:</span> <span class="token string">"./lib/util/log.js"</span><span class="token punctuation">,</span>  <span class="token property">"./transform"</span><span class="token operator">:</span> <span class="token string">"./lib/util/transform.js"</span><span class="token punctuation">,</span>  <span class="token property">"./package.json"</span><span class="token operator">:</span> <span class="token string">"./package.json"</span><span class="token punctuation">,</span>  <span class="token property">"./lib/util/namespace"</span><span class="token operator">:</span> <span class="token string">"./lib/util/namespace.js"</span><span class="token punctuation">}</span><span class="token punctuation">,</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>]]></content>
    
    
      
      
    <summary type="html">&lt;p&gt;&lt;code&gt;package.json&lt;/code&gt; 中的 &lt;code&gt;exports&lt;/code&gt; 中添加 &lt;code&gt;&quot;./lib/util/namespace&quot;: &quot;./lib/util/namespace.js&quot;&lt;/code&gt;&lt;/p&gt;
&lt;pre class=&quot;line</summary>
      
    
    
    
    <category term="排错笔记" scheme="https://jxch.github.io/categories/%E6%8E%92%E9%94%99%E7%AC%94%E8%AE%B0/"/>
    
    
    <category term="jhipster" scheme="https://jxch.github.io/tags/jhipster/"/>
    
  </entry>
  
  <entry>
    <title>gin-hello world</title>
    <link href="https://jxch.github.io/2023/05/15/template/gin-hello-world/"/>
    <id>https://jxch.github.io/2023/05/15/template/gin-hello-world/</id>
    <published>2023-05-15T08:51:07.000Z</published>
    <updated>2023-05-15T08:56:56.232Z</updated>
    
    <content type="html"><![CDATA[<pre class="line-numbers language-go" data-language="go"><code class="language-go"><span class="token keyword">package</span> main<span class="token keyword">import</span> <span class="token string">"github.com/gin-gonic/gin"</span><span class="token keyword">func</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>r <span class="token operator">:=</span> gin<span class="token punctuation">.</span><span class="token function">Default</span><span class="token punctuation">(</span><span class="token punctuation">)</span>r<span class="token punctuation">.</span><span class="token function">GET</span><span class="token punctuation">(</span><span class="token string">"/"</span><span class="token punctuation">,</span> <span class="token keyword">func</span><span class="token punctuation">(</span>c <span class="token operator">*</span>gin<span class="token punctuation">.</span>Context<span class="token punctuation">)</span> <span class="token punctuation">{</span>c<span class="token punctuation">.</span><span class="token function">String</span><span class="token punctuation">(</span><span class="token number">200</span><span class="token punctuation">,</span> <span class="token string">"Hello, World!"</span><span class="token punctuation">)</span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token comment">// 默认监听 8080 端口</span>err <span class="token operator">:=</span> r<span class="token punctuation">.</span><span class="token function">Run</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token keyword">if</span> err <span class="token operator">!=</span> <span class="token boolean">nil</span> <span class="token punctuation">{</span><span class="token keyword">return</span><span class="token punctuation">}</span><span class="token punctuation">}</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>]]></content>
    
    
      
      
    <summary type="html">&lt;pre class=&quot;line-numbers language-go&quot; data-language=&quot;go&quot;&gt;&lt;code class=&quot;language-go&quot;&gt;&lt;span class=&quot;token keyword&quot;&gt;package&lt;/span&gt; main

&lt;span cl</summary>
      
    
    
    
    <category term="go-template" scheme="https://jxch.github.io/categories/go-template/"/>
    
    
    <category term="gin" scheme="https://jxch.github.io/tags/gin/"/>
    
  </entry>
  
  <entry>
    <title>JWT-生成和校验Token</title>
    <link href="https://jxch.github.io/2023/05/15/coding/jwt-sheng-cheng-he-xiao-yan-token/"/>
    <id>https://jxch.github.io/2023/05/15/coding/jwt-sheng-cheng-he-xiao-yan-token/</id>
    <published>2023-05-15T05:59:48.000Z</published>
    <updated>2023-05-15T06:19:49.262Z</updated>
    
    <content type="html"><![CDATA[<h2 id="JwtTokenService">JwtTokenService</h2><pre class="line-numbers language-java" data-language="java"><code class="language-java"><span class="token annotation punctuation">@Service</span><span class="token annotation punctuation">@RequiredArgsConstructor</span><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">JwtTokenService</span> <span class="token punctuation">{</span>    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">final</span> <span class="token keyword">long</span> <span class="token constant">EXPIRATION_TIME</span> <span class="token operator">=</span> <span class="token number">3_600_000</span><span class="token punctuation">;</span>    <span class="token keyword">private</span> <span class="token keyword">final</span> <span class="token class-name">Key</span> key <span class="token operator">=</span> <span class="token class-name">Keys</span><span class="token punctuation">.</span><span class="token function">secretKeyFor</span><span class="token punctuation">(</span><span class="token class-name">SignatureAlgorithm</span><span class="token punctuation">.</span><span class="token constant">HS256</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token keyword">public</span> <span class="token class-name">Date</span> <span class="token function">getExpiration</span><span class="token punctuation">(</span><span class="token keyword">long</span> expirationTime<span class="token punctuation">)</span> <span class="token punctuation">{</span>        <span class="token keyword">return</span> <span class="token keyword">new</span> <span class="token class-name">Date</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">Date</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">getTime</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">+</span> expirationTime<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token punctuation">}</span>    <span class="token keyword">public</span> <span class="token class-name">String</span> <span class="token function">createToken</span><span class="token punctuation">(</span><span class="token class-name">String</span> userid<span class="token punctuation">,</span> <span class="token class-name">Date</span> expiration<span class="token punctuation">)</span> <span class="token punctuation">{</span>        <span class="token keyword">return</span> <span class="token class-name">Jwts</span><span class="token punctuation">.</span><span class="token function">builder</span><span class="token punctuation">(</span><span class="token punctuation">)</span>                <span class="token punctuation">.</span><span class="token function">setSubject</span><span class="token punctuation">(</span>userid<span class="token punctuation">)</span>                <span class="token punctuation">.</span><span class="token function">signWith</span><span class="token punctuation">(</span>key<span class="token punctuation">)</span>                <span class="token punctuation">.</span><span class="token function">setExpiration</span><span class="token punctuation">(</span>expiration<span class="token punctuation">)</span>                <span class="token punctuation">.</span><span class="token function">compact</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token punctuation">}</span>    <span class="token keyword">public</span> <span class="token class-name">String</span> <span class="token function">createDefaultToken</span><span class="token punctuation">(</span><span class="token class-name">String</span> userid<span class="token punctuation">)</span> <span class="token punctuation">{</span>        <span class="token keyword">return</span> <span class="token function">createToken</span><span class="token punctuation">(</span>userid<span class="token punctuation">,</span> <span class="token function">getExpiration</span><span class="token punctuation">(</span><span class="token constant">EXPIRATION_TIME</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token punctuation">}</span>    <span class="token keyword">public</span> <span class="token class-name">String</span> <span class="token function">validateToken</span><span class="token punctuation">(</span><span class="token class-name">String</span> token<span class="token punctuation">)</span> <span class="token punctuation">{</span>        <span class="token keyword">try</span> <span class="token punctuation">{</span>            <span class="token keyword">return</span> <span class="token class-name">Jwts</span><span class="token punctuation">.</span><span class="token function">parserBuilder</span><span class="token punctuation">(</span><span class="token punctuation">)</span>                    <span class="token punctuation">.</span><span class="token function">setSigningKey</span><span class="token punctuation">(</span>key<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">build</span><span class="token punctuation">(</span><span class="token punctuation">)</span>                    <span class="token punctuation">.</span><span class="token function">parseClaimsJws</span><span class="token punctuation">(</span>token<span class="token punctuation">)</span>                    <span class="token punctuation">.</span><span class="token function">getBody</span><span class="token punctuation">(</span><span class="token punctuation">)</span>                    <span class="token punctuation">.</span><span class="token function">getSubject</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token punctuation">}</span> <span class="token keyword">catch</span> <span class="token punctuation">(</span><span class="token class-name">Exception</span> e<span class="token punctuation">)</span> <span class="token punctuation">{</span>            <span class="token keyword">return</span> <span class="token keyword">null</span><span class="token punctuation">;</span>        <span class="token punctuation">}</span>    <span class="token punctuation">}</span><span class="token punctuation">}</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h2 id="JwtTokenServiceTest">JwtTokenServiceTest</h2><pre class="line-numbers language-java" data-language="java"><code class="language-java"><span class="token annotation punctuation">@Slf4j</span><span class="token annotation punctuation">@SpringBootTest</span><span class="token keyword">class</span> <span class="token class-name">JwtTokenServiceTest</span> <span class="token punctuation">{</span>    <span class="token annotation punctuation">@Autowired</span>    <span class="token keyword">public</span> <span class="token class-name">JwtTokenService</span> jwtTokenService<span class="token punctuation">;</span>    <span class="token annotation punctuation">@Test</span>    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">token</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>        <span class="token class-name">String</span> token <span class="token operator">=</span> jwtTokenService<span class="token punctuation">.</span><span class="token function">createDefaultToken</span><span class="token punctuation">(</span><span class="token string">"userid"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        log<span class="token punctuation">.</span><span class="token function">info</span><span class="token punctuation">(</span>token<span class="token punctuation">)</span><span class="token punctuation">;</span>        <span class="token class-name">String</span> userid <span class="token operator">=</span> jwtTokenService<span class="token punctuation">.</span><span class="token function">validateToken</span><span class="token punctuation">(</span>token<span class="token punctuation">)</span><span class="token punctuation">;</span>        log<span class="token punctuation">.</span><span class="token function">info</span><span class="token punctuation">(</span>userid<span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token punctuation">}</span><span class="token punctuation">}</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><hr><h2 id="pom-xml">pom.xml</h2><pre class="line-numbers language-markup" data-language="markup"><code class="language-markup"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>parent</span><span class="token punctuation">&gt;</span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupId</span><span class="token punctuation">&gt;</span></span>org.springframework.boot<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupId</span><span class="token punctuation">&gt;</span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">&gt;</span></span>spring-boot-starter-parent<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">&gt;</span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>version</span><span class="token punctuation">&gt;</span></span>3.0.6<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>version</span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>parent</span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>properties</span><span class="token punctuation">&gt;</span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>maven.compiler.source</span><span class="token punctuation">&gt;</span></span>20<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>maven.compiler.source</span><span class="token punctuation">&gt;</span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>maven.compiler.target</span><span class="token punctuation">&gt;</span></span>20<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>maven.compiler.target</span><span class="token punctuation">&gt;</span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>project.build.sourceEncoding</span><span class="token punctuation">&gt;</span></span>UTF-8<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>project.build.sourceEncoding</span><span class="token punctuation">&gt;</span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>springboot.version</span><span class="token punctuation">&gt;</span></span>3.0.6<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>springboot.version</span><span class="token punctuation">&gt;</span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>lombok.version</span><span class="token punctuation">&gt;</span></span>1.18.26<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>lombok.version</span><span class="token punctuation">&gt;</span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>jjwt.version</span><span class="token punctuation">&gt;</span></span>0.11.5<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>jjwt.version</span><span class="token punctuation">&gt;</span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>junit.version</span><span class="token punctuation">&gt;</span></span>5.10.0-M1<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>junit.version</span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>properties</span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dependencies</span><span class="token punctuation">&gt;</span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dependency</span><span class="token punctuation">&gt;</span></span>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupId</span><span class="token punctuation">&gt;</span></span>org.springframework.boot<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupId</span><span class="token punctuation">&gt;</span></span>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">&gt;</span></span>spring-boot-starter-web<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">&gt;</span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dependency</span><span class="token punctuation">&gt;</span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dependency</span><span class="token punctuation">&gt;</span></span>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupId</span><span class="token punctuation">&gt;</span></span>org.springframework.boot<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupId</span><span class="token punctuation">&gt;</span></span>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">&gt;</span></span>spring-boot-starter-security<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">&gt;</span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dependency</span><span class="token punctuation">&gt;</span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dependency</span><span class="token punctuation">&gt;</span></span>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupId</span><span class="token punctuation">&gt;</span></span>org.springframework.boot<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupId</span><span class="token punctuation">&gt;</span></span>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">&gt;</span></span>spring-boot-starter-test<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">&gt;</span></span>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>scope</span><span class="token punctuation">&gt;</span></span>test<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>scope</span><span class="token punctuation">&gt;</span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dependency</span><span class="token punctuation">&gt;</span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dependency</span><span class="token punctuation">&gt;</span></span>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupId</span><span class="token punctuation">&gt;</span></span>org.junit.jupiter<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupId</span><span class="token punctuation">&gt;</span></span>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">&gt;</span></span>junit-jupiter-api<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">&gt;</span></span>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>version</span><span class="token punctuation">&gt;</span></span>${junit.version}<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>version</span><span class="token punctuation">&gt;</span></span>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>scope</span><span class="token punctuation">&gt;</span></span>test<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>scope</span><span class="token punctuation">&gt;</span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dependency</span><span class="token punctuation">&gt;</span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dependency</span><span class="token punctuation">&gt;</span></span>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupId</span><span class="token punctuation">&gt;</span></span>io.jsonwebtoken<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupId</span><span class="token punctuation">&gt;</span></span>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">&gt;</span></span>jjwt-api<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">&gt;</span></span>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>version</span><span class="token punctuation">&gt;</span></span>${jjwt.version}<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>version</span><span class="token punctuation">&gt;</span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dependency</span><span class="token punctuation">&gt;</span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dependency</span><span class="token punctuation">&gt;</span></span>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupId</span><span class="token punctuation">&gt;</span></span>io.jsonwebtoken<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupId</span><span class="token punctuation">&gt;</span></span>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">&gt;</span></span>jjwt-impl<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">&gt;</span></span>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>version</span><span class="token punctuation">&gt;</span></span>${jjwt.version}<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>version</span><span class="token punctuation">&gt;</span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dependency</span><span class="token punctuation">&gt;</span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dependency</span><span class="token punctuation">&gt;</span></span>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupId</span><span class="token punctuation">&gt;</span></span>io.jsonwebtoken<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupId</span><span class="token punctuation">&gt;</span></span>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">&gt;</span></span>jjwt-jackson<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">&gt;</span></span>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>version</span><span class="token punctuation">&gt;</span></span>${jjwt.version}<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>version</span><span class="token punctuation">&gt;</span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dependency</span><span class="token punctuation">&gt;</span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dependency</span><span class="token punctuation">&gt;</span></span>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupId</span><span class="token punctuation">&gt;</span></span>org.projectlombok<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupId</span><span class="token punctuation">&gt;</span></span>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">&gt;</span></span>lombok<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">&gt;</span></span>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>version</span><span class="token punctuation">&gt;</span></span>${lombok.version}<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>version</span><span class="token punctuation">&gt;</span></span>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>scope</span><span class="token punctuation">&gt;</span></span>provided<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>scope</span><span class="token punctuation">&gt;</span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dependency</span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dependencies</span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dependencyManagement</span><span class="token punctuation">&gt;</span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dependencies</span><span class="token punctuation">&gt;</span></span>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dependency</span><span class="token punctuation">&gt;</span></span>            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupId</span><span class="token punctuation">&gt;</span></span>org.springframework.boot<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupId</span><span class="token punctuation">&gt;</span></span>            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">&gt;</span></span>spring-boot-dependencies<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">&gt;</span></span>            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>version</span><span class="token punctuation">&gt;</span></span>${springboot.version}<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>version</span><span class="token punctuation">&gt;</span></span>            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>type</span><span class="token punctuation">&gt;</span></span>pom<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>type</span><span class="token punctuation">&gt;</span></span>            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>scope</span><span class="token punctuation">&gt;</span></span>import<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>scope</span><span class="token punctuation">&gt;</span></span>        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dependency</span><span class="token punctuation">&gt;</span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dependencies</span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dependencyManagement</span><span class="token punctuation">&gt;</span></span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>]]></content>
    
    
      
      
    <summary type="html">&lt;h2 id=&quot;JwtTokenService&quot;&gt;JwtTokenService&lt;/h2&gt;
&lt;pre class=&quot;line-numbers language-java&quot; data-language=&quot;java&quot;&gt;&lt;code class=&quot;language-java&quot;&gt;&lt;span</summary>
      
    
    
    
    <category term="使用手册" scheme="https://jxch.github.io/categories/%E4%BD%BF%E7%94%A8%E6%89%8B%E5%86%8C/"/>
    
    
    <category term="JWT" scheme="https://jxch.github.io/tags/JWT/"/>
    
  </entry>
  
  <entry>
    <title>V2Fly-Caddy2-WebSocket-部署</title>
    <link href="https://jxch.github.io/2023/05/14/yun-wei/v2fly-caddy2-websocket-bu-shu/"/>
    <id>https://jxch.github.io/2023/05/14/yun-wei/v2fly-caddy2-websocket-bu-shu/</id>
    <published>2023-05-13T22:36:35.000Z</published>
    <updated>2023-05-13T23:48:42.472Z</updated>
    
    <content type="html"><![CDATA[<h2 id="docker-compose-yml">docker-compose.yml</h2><p>这里使用了 nfs 挂载数据卷，也可以直接挂到本地</p><pre class="line-numbers language-yaml" data-language="yaml"><code class="language-yaml"><span class="token key atrule">version</span><span class="token punctuation">:</span> <span class="token string">"3.8"</span><span class="token key atrule">services</span><span class="token punctuation">:</span>  <span class="token key atrule">caddy</span><span class="token punctuation">:</span>    <span class="token key atrule">image</span><span class="token punctuation">:</span> caddy    <span class="token key atrule">ports</span><span class="token punctuation">:</span>      <span class="token punctuation">-</span> <span class="token string">"80:80"</span>      <span class="token punctuation">-</span> <span class="token string">"443:443"</span>      <span class="token punctuation">-</span> <span class="token string">"443:443/udp"</span>      <span class="token punctuation">-</span> <span class="token string">"22345:22345"</span>      <span class="token punctuation">-</span> <span class="token string">"22345:22345/udp"</span>    <span class="token key atrule">configs</span><span class="token punctuation">:</span>      <span class="token punctuation">-</span> <span class="token key atrule">source</span><span class="token punctuation">:</span> Caddyfile        <span class="token key atrule">target</span><span class="token punctuation">:</span> /etc/caddy/Caddyfile    <span class="token key atrule">volumes</span><span class="token punctuation">:</span>      <span class="token punctuation">-</span> caddy_data<span class="token punctuation">:</span>/data      <span class="token punctuation">-</span> caddy_config<span class="token punctuation">:</span>/config  <span class="token key atrule">v2fly</span><span class="token punctuation">:</span>    <span class="token key atrule">image</span><span class="token punctuation">:</span> v2fly/v2fly<span class="token punctuation">-</span>core    <span class="token key atrule">ports</span><span class="token punctuation">:</span>      <span class="token punctuation">-</span> 12345<span class="token punctuation">:</span><span class="token number">12345</span>    <span class="token key atrule">configs</span><span class="token punctuation">:</span>      <span class="token punctuation">-</span> <span class="token key atrule">source</span><span class="token punctuation">:</span> v2fly.conf        <span class="token key atrule">target</span><span class="token punctuation">:</span> /etc/v2ray/config.json    <span class="token key atrule">entrypoint</span><span class="token punctuation">:</span> <span class="token punctuation">[</span><span class="token string">"v2ray"</span><span class="token punctuation">,</span> <span class="token string">"run"</span><span class="token punctuation">,</span>  <span class="token string">"-c"</span><span class="token punctuation">,</span> <span class="token string">"/etc/v2ray/config.json"</span><span class="token punctuation">]</span><span class="token key atrule">configs</span><span class="token punctuation">:</span>  <span class="token key atrule">Caddyfile</span><span class="token punctuation">:</span>    <span class="token key atrule">file</span><span class="token punctuation">:</span> /root/config/caddy/Caddyfile  <span class="token key atrule">v2fly.conf</span><span class="token punctuation">:</span>    <span class="token key atrule">file</span><span class="token punctuation">:</span> /root/config/v2fly/config.json<span class="token key atrule">volumes</span><span class="token punctuation">:</span>  <span class="token key atrule">caddy_data</span><span class="token punctuation">:</span>    <span class="token key atrule">driver_opts</span><span class="token punctuation">:</span>      <span class="token key atrule">type</span><span class="token punctuation">:</span> <span class="token string">"nfs"</span>      <span class="token key atrule">o</span><span class="token punctuation">:</span> <span class="token string">"addr=nfs-ip,rw"</span>      <span class="token key atrule">device</span><span class="token punctuation">:</span> <span class="token string">":/srv/nfs4/caddy_data"</span>  <span class="token key atrule">caddy_config</span><span class="token punctuation">:</span>    <span class="token key atrule">driver_opts</span><span class="token punctuation">:</span>      <span class="token key atrule">type</span><span class="token punctuation">:</span> <span class="token string">"nfs"</span>      <span class="token key atrule">o</span><span class="token punctuation">:</span> <span class="token string">"addr=nfs-ip,rw"</span>      <span class="token key atrule">device</span><span class="token punctuation">:</span> <span class="token string">":/srv/nfs4/caddy_config"</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h2 id="Caddyfile">Caddyfile</h2><pre class="line-numbers language-config" data-language="config"><code class="language-config">域名:22345 {      root * /usr/share/caddy    file_server    log {        output file /var/log/caddy/access.log    }    tls email@gmail.com    tls {        protocols tls1.2 tls1.3        ciphers TLS_ECDHE_ECDSA_WITH_AES_256_GCM_SHA384 TLS_ECDHE_ECDSA_WITH_CHACHA20_POLY1305_SHA256    }    @v2ray_ws {      path /long_path      header Connection Upgrade      header Upgrade websocket    }    reverse_proxy @v2ray_ws 域名:12345}<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><h2 id="config-json">config.json</h2><p>由于使用了 Caddy 反代，v2ray 可以不使用 tls</p><pre class="line-numbers language-json" data-language="json"><code class="language-json"><span class="token punctuation">{</span>    <span class="token property">"log"</span><span class="token operator">:</span> <span class="token punctuation">{</span>        <span class="token property">"access"</span><span class="token operator">:</span> <span class="token string">"/var/log/v2ray/access.log"</span><span class="token punctuation">,</span>        <span class="token property">"error"</span><span class="token operator">:</span> <span class="token string">"/var/log/v2ray/error.log"</span><span class="token punctuation">,</span>        <span class="token property">"loglevel"</span><span class="token operator">:</span> <span class="token string">"warning"</span>    <span class="token punctuation">}</span><span class="token punctuation">,</span>    <span class="token property">"inbound"</span><span class="token operator">:</span> <span class="token punctuation">{</span>        <span class="token property">"port"</span><span class="token operator">:</span> <span class="token number">12345</span><span class="token punctuation">,</span>        <span class="token property">"protocol"</span><span class="token operator">:</span> <span class="token string">"vless"</span><span class="token punctuation">,</span>        <span class="token property">"settings"</span><span class="token operator">:</span> <span class="token punctuation">{</span>            <span class="token property">"clients"</span><span class="token operator">:</span> <span class="token punctuation">[</span>                <span class="token punctuation">{</span>                    <span class="token property">"id"</span><span class="token operator">:</span> <span class="token string">"UUID"</span><span class="token punctuation">,</span>                    <span class="token property">"level"</span><span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">,</span>                    <span class="token property">"alterId"</span><span class="token operator">:</span> <span class="token number">0</span>                <span class="token punctuation">}</span>            <span class="token punctuation">]</span><span class="token punctuation">,</span>    <span class="token property">"decryption"</span><span class="token operator">:</span><span class="token string">"none"</span>        <span class="token punctuation">}</span><span class="token punctuation">,</span>        <span class="token property">"streamSettings"</span><span class="token operator">:</span> <span class="token punctuation">{</span>            <span class="token property">"network"</span><span class="token operator">:</span> <span class="token string">"ws"</span><span class="token punctuation">,</span>        <span class="token property">"security"</span><span class="token operator">:</span><span class="token string">"none"</span><span class="token punctuation">,</span>            <span class="token property">"wsSettings"</span><span class="token operator">:</span> <span class="token punctuation">{</span>                <span class="token property">"path"</span><span class="token operator">:</span> <span class="token string">"/long_path"</span>            <span class="token punctuation">}</span>        <span class="token punctuation">}</span>    <span class="token punctuation">}</span><span class="token punctuation">,</span>    <span class="token property">"outbound"</span><span class="token operator">:</span> <span class="token punctuation">{</span>        <span class="token property">"protocol"</span><span class="token operator">:</span> <span class="token string">"freedom"</span><span class="token punctuation">,</span>        <span class="token property">"settings"</span><span class="token operator">:</span> <span class="token punctuation">{</span><span class="token punctuation">}</span>    <span class="token punctuation">}</span><span class="token punctuation">,</span>    <span class="token property">"inboundDetour"</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">,</span>    <span class="token property">"outboundDetour"</span><span class="token operator">:</span> <span class="token punctuation">[</span>        <span class="token punctuation">{</span>            <span class="token property">"protocol"</span><span class="token operator">:</span> <span class="token string">"blackhole"</span><span class="token punctuation">,</span>            <span class="token property">"settings"</span><span class="token operator">:</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">,</span>            <span class="token property">"tag"</span><span class="token operator">:</span> <span class="token string">"blocked"</span>        <span class="token punctuation">}</span>    <span class="token punctuation">]</span><span class="token punctuation">,</span>    <span class="token property">"routing"</span><span class="token operator">:</span> <span class="token punctuation">{</span>        <span class="token property">"strategy"</span><span class="token operator">:</span> <span class="token string">"rules"</span><span class="token punctuation">,</span>        <span class="token property">"settings"</span><span class="token operator">:</span> <span class="token punctuation">{</span>            <span class="token property">"rules"</span><span class="token operator">:</span> <span class="token punctuation">[</span>                <span class="token punctuation">{</span>                    <span class="token property">"type"</span><span class="token operator">:</span> <span class="token string">"field"</span><span class="token punctuation">,</span>                    <span class="token property">"ip"</span><span class="token operator">:</span> <span class="token punctuation">[</span>                        <span class="token string">"0.0.0.0/8"</span><span class="token punctuation">,</span>                        <span class="token string">"10.0.0.0/8"</span><span class="token punctuation">,</span>                        <span class="token string">"100.64.0.0/10"</span><span class="token punctuation">,</span>                        <span class="token string">"127.0.0.0/8"</span><span class="token punctuation">,</span>                        <span class="token string">"169.254.0.0/16"</span><span class="token punctuation">,</span>                        <span class="token string">"172.16.0.0/12"</span><span class="token punctuation">,</span>                        <span class="token string">"192.0.0.0/24"</span><span class="token punctuation">,</span>                        <span class="token string">"192.0.2.0/24"</span><span class="token punctuation">,</span>                        <span class="token string">"192.168.0.0/16"</span><span class="token punctuation">,</span>                        <span class="token string">"198.18.0.0/15"</span><span class="token punctuation">,</span>                        <span class="token string">"198.51.100.0/24"</span><span class="token punctuation">,</span>                        <span class="token string">"203.0.113.0/24"</span><span class="token punctuation">,</span>                        <span class="token string">"::1/128"</span><span class="token punctuation">,</span>                        <span class="token string">"fc00::/7"</span><span class="token punctuation">,</span>                        <span class="token string">"fe80::/10"</span>                    <span class="token punctuation">]</span><span class="token punctuation">,</span>                    <span class="token property">"outboundTag"</span><span class="token operator">:</span> <span class="token string">"blocked"</span>                <span class="token punctuation">}</span>            <span class="token punctuation">]</span>        <span class="token punctuation">}</span>    <span class="token punctuation">}</span><span class="token punctuation">}</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>]]></content>
    
    
      
      
    <summary type="html">&lt;h2 id=&quot;docker-compose-yml&quot;&gt;docker-compose.yml&lt;/h2&gt;
&lt;p&gt;这里使用了 nfs 挂载数据卷，也可以直接挂到本地&lt;/p&gt;
&lt;pre class=&quot;line-numbers language-yaml&quot; data-language=&quot;</summary>
      
    
    
    
    <category term="运维手册" scheme="https://jxch.github.io/categories/%E8%BF%90%E7%BB%B4%E6%89%8B%E5%86%8C/"/>
    
    
    <category term="docker-compose.yml" scheme="https://jxch.github.io/tags/docker-compose-yml/"/>
    
    <category term="V2Ray" scheme="https://jxch.github.io/tags/V2Ray/"/>
    
  </entry>
  
  <entry>
    <title>WIN-开启BBR</title>
    <link href="https://jxch.github.io/2023/05/12/yun-wei/win-kai-qi-bbr/"/>
    <id>https://jxch.github.io/2023/05/12/yun-wei/win-kai-qi-bbr/</id>
    <published>2023-05-12T13:43:27.000Z</published>
    <updated>2023-05-12T13:49:01.613Z</updated>
    
    <content type="html"><![CDATA[<p>管理员模式打开 powershell</p><pre class="line-numbers language-powershell" data-language="powershell"><code class="language-powershell">netsh int tcp <span class="token function">set</span> supplemental Template=Internet CongestionProvider=bbr2netsh int tcp <span class="token function">set</span> supplemental Template=Datacenter CongestionProvider=bbr2netsh int tcp <span class="token function">set</span> supplemental Template=Compat CongestionProvider=bbr2netsh int tcp <span class="token function">set</span> supplemental Template=DatacenterCustom CongestionProvider=bbr2netsh int tcp <span class="token function">set</span> supplemental Template=InternetCustom CongestionProvider=bbr2<span class="token comment"># 查看是否成功开启</span><span class="token function">Get-NetTCPSetting</span> <span class="token punctuation">|</span> <span class="token function">Select</span> SettingName<span class="token punctuation">,</span> CongestionProvider<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><hr><p>改回默认模式</p><pre class="line-numbers language-powershell" data-language="powershell"><code class="language-powershell">netsh int tcp <span class="token function">set</span> supplemental template=internet congestionprovider=CUBICnetsh int tcp <span class="token function">set</span> supplemental template=internetcustom congestionprovider=CUBICnetsh int tcp <span class="token function">set</span> supplemental template=Compat congestionprovider=NewRenonetsh int tcp <span class="token function">set</span> supplemental template=Datacenter congestionprovider=CUBICnetsh int tcp <span class="token function">set</span> supplemental template=Datacentercustom congestionprovider=CUBIC<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span></span></code></pre>]]></content>
    
    
      
      
    <summary type="html">&lt;p&gt;管理员模式打开 powershell&lt;/p&gt;
&lt;pre class=&quot;line-numbers language-powershell&quot; data-language=&quot;powershell&quot;&gt;&lt;code class=&quot;language-powershell&quot;&gt;netsh i</summary>
      
    
    
    
    <category term="运维手册" scheme="https://jxch.github.io/categories/%E8%BF%90%E7%BB%B4%E6%89%8B%E5%86%8C/"/>
    
    
    <category term="WIN" scheme="https://jxch.github.io/tags/WIN/"/>
    
    <category term="BBR" scheme="https://jxch.github.io/tags/BBR/"/>
    
  </entry>
  
  <entry>
    <title>Linux-开启BBR</title>
    <link href="https://jxch.github.io/2023/05/12/yun-wei/linux-kai-qi-bbr/"/>
    <id>https://jxch.github.io/2023/05/12/yun-wei/linux-kai-qi-bbr/</id>
    <published>2023-05-12T12:41:45.000Z</published>
    <updated>2023-05-12T12:54:46.044Z</updated>
    
    <content type="html"><![CDATA[<pre class="line-numbers language-bash" data-language="bash"><code class="language-bash"><span class="token builtin class-name">echo</span> <span class="token string">"net.core.default_qdisc=fq"</span> <span class="token operator">&gt;&gt;</span> /etc/sysctl.conf<span class="token builtin class-name">echo</span> <span class="token string">"net.ipv4.tcp_congestion_control=bbr"</span> <span class="token operator">&gt;&gt;</span> /etc/sysctl.conf<span class="token comment"># 生效</span><span class="token function">sysctl</span> <span class="token parameter variable">-p</span><span class="token comment"># 查看内核是否已开启BBR</span><span class="token function">sysctl</span> net.ipv4.tcp_available_congestion_control<span class="token comment"># 查看BBR是否启动</span>lsmod <span class="token operator">|</span> <span class="token function">grep</span> bbr<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>]]></content>
    
    
      
      
    <summary type="html">&lt;pre class=&quot;line-numbers language-bash&quot; data-language=&quot;bash&quot;&gt;&lt;code class=&quot;language-bash&quot;&gt;&lt;span class=&quot;token builtin class-name&quot;&gt;echo&lt;/span&gt; </summary>
      
    
    
    
    <category term="运维手册" scheme="https://jxch.github.io/categories/%E8%BF%90%E7%BB%B4%E6%89%8B%E5%86%8C/"/>
    
    
    <category term="Linux" scheme="https://jxch.github.io/tags/Linux/"/>
    
    <category term="BBR" scheme="https://jxch.github.io/tags/BBR/"/>
    
  </entry>
  
  <entry>
    <title>vue-echarts-更新图表</title>
    <link href="https://jxch.github.io/2023/05/12/coding/vue-echarts-geng-xin-tu-biao/"/>
    <id>https://jxch.github.io/2023/05/12/coding/vue-echarts-geng-xin-tu-biao/</id>
    <published>2023-05-12T05:35:03.000Z</published>
    <updated>2023-05-12T05:39:00.478Z</updated>
    
    <content type="html"><![CDATA[<pre class="line-numbers language-markup" data-language="markup"><code class="language-markup"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>template</span><span class="token punctuation">&gt;</span></span>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>v-chart</span> <span class="token attr-name">ref</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>line-chart<span class="token punctuation">"</span></span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>line-chart<span class="token punctuation">"</span></span> <span class="token attr-name">:option</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>chartOptions<span class="token punctuation">"</span></span><span class="token punctuation">/&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>template</span><span class="token punctuation">&gt;</span></span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre><pre class="line-numbers language-javascript" data-language="javascript"><code class="language-javascript"><span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token function">defineComponent</span><span class="token punctuation">(</span><span class="token punctuation">{</span>    <span class="token function">setup</span><span class="token punctuation">(</span><span class="token parameter">props</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>        <span class="token keyword">let</span> chartDemo <span class="token operator">=</span> <span class="token function">getCurrentInstance</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span>refs<span class="token punctuation">[</span><span class="token string">'line-chart'</span><span class="token punctuation">]</span>        <span class="token function">onMounted</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">=&gt;</span> <span class="token punctuation">{</span>            chartDemo <span class="token operator">=</span> <span class="token function">getCurrentInstance</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span>refs<span class="token punctuation">[</span><span class="token string">'line-chart'</span><span class="token punctuation">]</span>        <span class="token punctuation">}</span><span class="token punctuation">)</span>        <span class="token keyword">const</span> chartOptions <span class="token operator">=</span> <span class="token function">reactive</span><span class="token punctuation">(</span><span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">)</span>        <span class="token function">watch</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> props<span class="token punctuation">.</span>data<span class="token punctuation">,</span>            <span class="token punctuation">(</span><span class="token parameter">newData</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>                <span class="token comment">// 更新 chartOptions; </span>                <span class="token comment">// 可能由于 vue-echarts 内部的 bug, 更新 reactive options 后图表会出现上次数据集残留的脏数据</span>                <span class="token comment">// 所以需要手动更新</span>                chartDemo<span class="token punctuation">.</span><span class="token function">setOption</span><span class="token punctuation">(</span>chartOptions<span class="token punctuation">,</span> <span class="token boolean">true</span><span class="token punctuation">)</span>            <span class="token punctuation">}</span><span class="token punctuation">)</span>    <span class="token punctuation">}</span><span class="token punctuation">}</span><span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>]]></content>
    
    
      
      
    <summary type="html">&lt;pre class=&quot;line-numbers language-markup&quot; data-language=&quot;markup&quot;&gt;&lt;code class=&quot;language-markup&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token ta</summary>
      
    
    
    
    <category term="使用手册" scheme="https://jxch.github.io/categories/%E4%BD%BF%E7%94%A8%E6%89%8B%E5%86%8C/"/>
    
    
    <category term="vue" scheme="https://jxch.github.io/tags/vue/"/>
    
    <category term="echarts" scheme="https://jxch.github.io/tags/echarts/"/>
    
  </entry>
  
  <entry>
    <title>市场分析-20230510-Brooks-S&amp;P Emini</title>
    <link href="https://jxch.github.io/2023/05/11/shi-chang-fen-xi/shi-chang-fen-xi-20230510-brooks-s-p-emini/"/>
    <id>https://jxch.github.io/2023/05/11/shi-chang-fen-xi/shi-chang-fen-xi-20230510-brooks-s-p-emini/</id>
    <published>2023-05-11T02:50:23.000Z</published>
    <updated>2023-05-11T02:59:20.695Z</updated>
    
    <content type="html"><![CDATA[<p><font color="red">Trading Update: Wednesday May 10, 2023</font></p><h1><font color="green">S&amp;P Emini pre-open market analysis</font></h1><h2 id="font-color-red-Emini-daily-chart-font"><font color="red">Emini daily chart</font></h2><ul><li>The Emini has had two consecutive days, with the range being less than 20 points. Bulls want follow-through buying.<ul><li>Emini连续两天涨幅都在20点以内。多头希望跟进购买</li></ul></li><li>The daily chart is in the middle of a trading range that has gone on for over a month. This means that the market is in breakout mode and deciding on the direction of the breakout.<ul><li>日线图处于已经持续了一个多月的交易区间的中间。这意味着市场处于突破模式并决定突破的方向</li></ul></li><li>Traders should assume that the probability is close to 50% for both the bulls and the bears.<ul><li>交易者应假设多头和空头的概率都接近 50%</li></ul></li><li>At the moment, the odds slightly favor the bulls, but not by much. If the bulls had a big advantage, the market would not go sideways.<ul><li>目前，赔率略有利于多头，但幅度不大。如果多头有很大的优势，市场就不会横盘整理</li></ul></li><li>Since last Friday had a strong reversal up, that increases the odds that the bulls will get a second leg up to the May 1st low.<ul><li>由于上周五出现了强劲的反转，这增加了多头再次上涨至 5 月 1 日低点的可能性</li></ul></li><li>The bulls will probably get at least a small second leg up because of the strength of the May 5th bull breakout.<ul><li>由于 5 月 5 日牛市突破的力量，多头可能至少会在第二回合上涨</li></ul></li><li>The bears had a 4-bar bear micro channel down to May 4th. The bears that sold the May 4th high are trapped and likely sold more higher. Trading ranges are forgiving if a trader uses wide stops and scales in higher. Like the bears that sold the April 26th high and scaled in higher, the market eventually allowed those bears out.<ul><li>截至 5 月 4 日，熊市有一个 4 栏熊市微频道。卖出 5 月 4 日高点的空头被困，可能卖出更高。如果交易者使用较宽的止损和较高的规模，则交易范围是宽容的。就像卖出 4 月 26 日高点并走高的空头一样，市场最终允许这些空头离场</li></ul></li><li>Overall, the market is in breakout mode, and it is important to realize that the probability is close to 50% for both the bulls and the bears. If one side had a high probability, the market would not go sideways. Traders who want high probability should wait and see a clear breakout with follow-through; otherwise, sideways is more likely.<ul><li>总体而言，市场处于突破模式，重要的是要意识到多头和空头的概率都接近 50%。如果一方有很大的概率，市场就不会横盘整理。想要高概率的交易者应该观望一个明显的突破并跟进；否则，横向的可能性更大</li></ul></li></ul><h2 id="font-color-red-Emini-5-minute-chart-and-what-to-expect-today-font"><font color="red">Emini 5-minute chart and what to expect today</font></h2><ul><li>Emini is up 27 points in the overnight Globex session.</li><li>The Globex Market had an upside breakout recently during the 5:30 AM PT report.<ul><li>Globex 市场最近在太平洋时间上午 5:30 的报告中出现了上行突破</li></ul></li><li>Today will probably gap up, and the Bulls will try to get a second leg up after last Friday’s bull breakout.<ul><li>今天可能会跳空，多头将在上周五的牛市突破后尝试第二回合上涨</li></ul></li><li>As I often say, traders should expect the open to go sideways for the first 6-12 bars. However, they should be open to a possible bull trend from the open.<ul><li>正如我经常说的，交易者应该预料到前 6-12 个柱线的开盘价会横盘整理。但是，他们应该对开盘后可能出现的牛市趋势持开放态度</li></ul></li><li>Since the odds are the market will gap up, traders should expect the bulls to get at least a second leg up. If the market sells off on the open, traders should expect the bulls to get at least an attempt up following the gap up.<ul><li>由于市场很可能会跳空，交易员应该预计多头至少会再次上涨。如果市场在开盘时抛售，交易者应该预计多头至少会在跳空后尝试上涨</li></ul></li><li>If the buying pressure is not strong on the open, traders should expect sideways to down and for the market to try and test the moving average.<ul><li>如果开盘时买盘压力不强，交易者应预期横向下跌，市场将尝试测试移动平均线</li></ul></li></ul><h2 id="font-color-red-Emini-intraday-market-update-font"><font color="red">Emini intraday market update</font></h2><ul><li>The Emini gapped up and sold off quickly down to bar 5.<ul><li>Emini 跳空并迅速抛售至 bar 5</li></ul></li><li>The selloff to bar 5 was strong enough to make the market Always In Short and increased the odds of a second leg down. However, the selloff was climactic, which increased the risk of a deep pullback.<ul><li>抛售到 5 根柱线的力度足以使市场始终处于空头状态，并增加了第二条腿下跌的可能性。然而，抛售达到高潮，这增加了深度回调的风险</li></ul></li><li>It was reasonable to buy bar 1 following the large gap up. Any selloff was more likely to convert the market into a trading range instead of a bear trend.<ul><li>在大幅上涨后买入 1 号柱是合理的。任何抛售都更有可能将市场转变为交易区间而不是熊市趋势</li></ul></li><li>The rally on bar 7 was strong. However, it followed a large selloff.<ul><li>7 号柱的涨势强劲。然而，随后出现了大规模抛售</li></ul></li><li>This meant the best the bulls could expect was a trading range. While the odds favored buyers below bar 7:10 AM PT for a second leg up, the bears got a downside breakout a few bars later, a new low of the day.<ul><li>这意味着多头可以预期的最好的是一个交易区间。虽然在太平洋时间上午 7 点 10 分柱线下方买家获得第二轮上涨的可能性较大，但空头在几个柱线后出现下行突破，创下当日新低</li></ul></li><li>As of bar 40 (9:50 AM PT), while the bears have done a good job with the selling pressure today, there has been a lot of buying pressure. This increases the risk of today not closing on its low, so traders should expect a rally back to the bar 5 low.<ul><li>截至 40 柱（太平洋时间上午 9 点 50 分），虽然空头今天很好地应对了抛售压力，但也存在很大的买盘压力。这增加了今天未收于低点的风险，因此交易者应该期待反弹回到 5 低点</li></ul></li></ul><h2 id="font-color-red-Yesterday’s-Emini-setups-font"><font color="red">Yesterday’s Emini setups</font></h2><p><img src="/static/trade/Brooks-%E8%BD%AC%E8%BD%BD/20230510-SP500-Emini-5-Min-Trending-Trading-Range-with-Close-near-Open-768x432.png" alt="Emini 5 Min - Yesterday"></p>]]></content>
    
    
      
      
    <summary type="html">&lt;p&gt;&lt;font color=&quot;red&quot;&gt;Trading Update: Wednesday May 10, 2023&lt;/font&gt;&lt;/p&gt;
&lt;h1&gt;&lt;font color=&quot;green&quot;&gt;S&amp;amp;P Emini pre-open market analysis&lt;/font&gt;</summary>
      
    
    
    
    <category term="交易笔记" scheme="https://jxch.github.io/categories/%E4%BA%A4%E6%98%93%E7%AC%94%E8%AE%B0/"/>
    
    
    <category term="市场分析" scheme="https://jxch.github.io/tags/%E5%B8%82%E5%9C%BA%E5%88%86%E6%9E%90/"/>
    
    <category term="Brooks-转载" scheme="https://jxch.github.io/tags/Brooks-%E8%BD%AC%E8%BD%BD/"/>
    
  </entry>
  
  <entry>
    <title>LeetCode-14.最长公共前缀</title>
    <link href="https://jxch.github.io/2023/05/11/leetcode/leetcode-14-zui-chang-gong-gong-qian-zhui/"/>
    <id>https://jxch.github.io/2023/05/11/leetcode/leetcode-14-zui-chang-gong-gong-qian-zhui/</id>
    <published>2023-05-11T02:30:07.000Z</published>
    <updated>2023-05-11T02:38:13.933Z</updated>
    
    <content type="html"><![CDATA[<h2 id="题干">题干</h2><p>编写一个函数来查找字符串数组中的最长公共前缀。<br>如果不存在公共前缀，返回空字符串 “”。</p><blockquote><p>示例 1：<br>输入：strs = [“flower”,“flow”,“flight”]<br>输出：“fl”</p></blockquote><blockquote><p>示例 2：<br>输入：strs = [“dog”,“racecar”,“car”]<br>输出：“”<br>解释：输入不存在公共前缀。</p></blockquote><blockquote><p>提示：<br>1 &lt;= strs.length &lt;= 200<br>0 &lt;= strs[i].length &lt;= 200<br>strs[i] 仅由小写英文字母组成</p></blockquote><h2 id="python">python</h2><pre class="line-numbers language-python" data-language="python"><code class="language-python"><span class="token keyword">class</span> <span class="token class-name">Solution</span><span class="token punctuation">(</span><span class="token builtin">object</span><span class="token punctuation">)</span><span class="token punctuation">:</span>    <span class="token keyword">def</span> <span class="token function">longestCommonPrefix</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span> strs<span class="token punctuation">)</span><span class="token punctuation">:</span>        ans <span class="token operator">=</span> <span class="token string">''</span>        <span class="token keyword">for</span> i <span class="token keyword">in</span> <span class="token builtin">zip</span><span class="token punctuation">(</span><span class="token operator">*</span>strs<span class="token punctuation">)</span><span class="token punctuation">:</span>            <span class="token keyword">if</span> <span class="token builtin">len</span><span class="token punctuation">(</span><span class="token builtin">set</span><span class="token punctuation">(</span>i<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token operator">==</span> <span class="token number">1</span><span class="token punctuation">:</span>                ans <span class="token operator">+=</span> i<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span>            <span class="token keyword">else</span><span class="token punctuation">:</span>                <span class="token keyword">break</span>        <span class="token keyword">return</span> ans<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><pre class="line-numbers language-python" data-language="python"><code class="language-python"><span class="token keyword">class</span> <span class="token class-name">Solution</span><span class="token punctuation">:</span>    <span class="token keyword">def</span> <span class="token function">longestCommonPrefix</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span> strs<span class="token punctuation">:</span> List<span class="token punctuation">[</span><span class="token builtin">str</span><span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token operator">-</span><span class="token operator">&gt;</span> <span class="token builtin">str</span><span class="token punctuation">:</span>        <span class="token keyword">return</span> os<span class="token punctuation">.</span>path<span class="token punctuation">.</span>commonprefix<span class="token punctuation">(</span>strs<span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre>]]></content>
    
    
      
      
    <summary type="html">&lt;h2 id=&quot;题干&quot;&gt;题干&lt;/h2&gt;
&lt;p&gt;编写一个函数来查找字符串数组中的最长公共前缀。&lt;br&gt;
如果不存在公共前缀，返回空字符串 “”。&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;示例 1：&lt;br&gt;
输入：strs = [“flower”,“flow”,“flight”]&lt;b</summary>
      
    
    
    
    <category term="算法笔记" scheme="https://jxch.github.io/categories/%E7%AE%97%E6%B3%95%E7%AC%94%E8%AE%B0/"/>
    
    
    <category term="LeetCode" scheme="https://jxch.github.io/tags/LeetCode/"/>
    
  </entry>
  
  <entry>
    <title>LeetCode-13.罗马数字转整数</title>
    <link href="https://jxch.github.io/2023/05/11/leetcode/leetcode-13-luo-ma-shu-zi-zhuan-zheng-shu/"/>
    <id>https://jxch.github.io/2023/05/11/leetcode/leetcode-13-luo-ma-shu-zi-zhuan-zheng-shu/</id>
    <published>2023-05-11T02:23:31.000Z</published>
    <updated>2023-05-11T02:30:32.533Z</updated>
    
    <content type="html"><![CDATA[<h2 id="题干">题干</h2><p>罗马数字包含以下七种字符: I， V， X， L，C，D 和 M。</p><pre class="line-numbers language-none"><code class="language-none">字符          数值I             1V             5X             10L             50C             100D             500M             1000<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>例如， 罗马数字 2 写做 II ，即为两个并列的 1 。12 写做 XII ，即为 X + II 。 27 写做  XXVII, 即为 XX + V + II 。</p><p>通常情况下，罗马数字中小的数字在大的数字的右边。但也存在特例，例如 4 不写做 IIII，而是 IV。数字 1 在数字 5 的左边，所表示的数等于大数 5 减小数 1 得到的数值 4 。同样地，数字 9 表示为 IX。这个特殊的规则只适用于以下六种情况：</p><ul><li>I 可以放在 V (5) 和 X (10) 的左边，来表示 4 和 9。</li><li>X 可以放在 L (50) 和 C (100) 的左边，来表示 40 和 90。</li><li>C 可以放在 D (500) 和 M (1000) 的左边，来表示 400 和 900。</li></ul><p>给定一个罗马数字，将其转换成整数。</p><blockquote><p>示例 1:<br>输入: s = “III”<br>输出: 3</p></blockquote><blockquote><p>示例 2:<br>输入: s = “IV”<br>输出: 4</p></blockquote><blockquote><p>示例 3:<br>输入: s = “IX”<br>输出: 9</p></blockquote><blockquote><p>示例 4:<br>输入: s = “LVIII”<br>输出: 58<br>解释: L = 50, V= 5, III = 3.</p></blockquote><blockquote><p>示例 5:<br>输入: s = “MCMXCIV”<br>输出: 1994<br>解释: M = 1000, CM = 900, XC = 90, IV = 4.</p></blockquote><blockquote><p>提示：<br>1 &lt;= s.length &lt;= 15<br>s 仅含字符 (‘I’, ‘V’, ‘X’, ‘L’, ‘C’, ‘D’, ‘M’)<br>题目数据保证 s 是一个有效的罗马数字，且表示整数在范围 [1, 3999] 内<br>题目所给测试用例皆符合罗马数字书写规则，不会出现跨位等情况。<br>IL 和 IM 这样的例子并不符合题目要求，49 应该写作 XLIX，999 应该写作 CMXCIX 。<br>关于罗马数字的详尽书写规则，可以参考<a href="https://b2b.partcommunity.com/community/knowledge/zh_CN/detail/10753/%E7%BD%97%E9%A9%AC%E6%95%B0%E5%AD%97#knowledge_article">罗马数字 - Mathematics</a> 。</p></blockquote><h2 id="python">python</h2><pre class="line-numbers language-python" data-language="python"><code class="language-python"><span class="token keyword">class</span> <span class="token class-name">Solution</span><span class="token punctuation">:</span>    <span class="token keyword">def</span> <span class="token function">romanToInt</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span> s<span class="token punctuation">:</span> <span class="token builtin">str</span><span class="token punctuation">)</span> <span class="token operator">-</span><span class="token operator">&gt;</span> <span class="token builtin">int</span><span class="token punctuation">:</span>        d <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token string">'I'</span><span class="token punctuation">:</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token string">'IV'</span><span class="token punctuation">:</span><span class="token number">3</span><span class="token punctuation">,</span> <span class="token string">'V'</span><span class="token punctuation">:</span><span class="token number">5</span><span class="token punctuation">,</span> <span class="token string">'IX'</span><span class="token punctuation">:</span><span class="token number">8</span><span class="token punctuation">,</span> <span class="token string">'X'</span><span class="token punctuation">:</span><span class="token number">10</span><span class="token punctuation">,</span> <span class="token string">'XL'</span><span class="token punctuation">:</span><span class="token number">30</span><span class="token punctuation">,</span> <span class="token string">'L'</span><span class="token punctuation">:</span><span class="token number">50</span><span class="token punctuation">,</span> <span class="token string">'XC'</span><span class="token punctuation">:</span><span class="token number">80</span><span class="token punctuation">,</span> <span class="token string">'C'</span><span class="token punctuation">:</span><span class="token number">100</span><span class="token punctuation">,</span> <span class="token string">'CD'</span><span class="token punctuation">:</span><span class="token number">300</span><span class="token punctuation">,</span> <span class="token string">'D'</span><span class="token punctuation">:</span><span class="token number">500</span><span class="token punctuation">,</span> <span class="token string">'CM'</span><span class="token punctuation">:</span><span class="token number">800</span><span class="token punctuation">,</span> <span class="token string">'M'</span><span class="token punctuation">:</span><span class="token number">1000</span><span class="token punctuation">}</span>        <span class="token keyword">return</span> <span class="token builtin">sum</span><span class="token punctuation">(</span>d<span class="token punctuation">.</span>get<span class="token punctuation">(</span>s<span class="token punctuation">[</span><span class="token builtin">max</span><span class="token punctuation">(</span>i<span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">:</span>i<span class="token operator">+</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">,</span> d<span class="token punctuation">[</span>n<span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token keyword">for</span> i<span class="token punctuation">,</span> n <span class="token keyword">in</span> <span class="token builtin">enumerate</span><span class="token punctuation">(</span>s<span class="token punctuation">)</span><span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span></span></code></pre>]]></content>
    
    
      
      
    <summary type="html">&lt;h2 id=&quot;题干&quot;&gt;题干&lt;/h2&gt;
&lt;p&gt;罗马数字包含以下七种字符: I， V， X， L，C，D 和 M。&lt;/p&gt;
&lt;pre class=&quot;line-numbers language-none&quot;&gt;&lt;code class=&quot;language-none&quot;&gt;字符         </summary>
      
    
    
    
    <category term="算法笔记" scheme="https://jxch.github.io/categories/%E7%AE%97%E6%B3%95%E7%AC%94%E8%AE%B0/"/>
    
    
    <category term="LeetCode" scheme="https://jxch.github.io/tags/LeetCode/"/>
    
  </entry>
  
  <entry>
    <title>LeetCode-12.整数转罗马数字</title>
    <link href="https://jxch.github.io/2023/05/11/leetcode/leetcode-12-zheng-shu-zhuan-luo-ma-shu-zi/"/>
    <id>https://jxch.github.io/2023/05/11/leetcode/leetcode-12-zheng-shu-zhuan-luo-ma-shu-zi/</id>
    <published>2023-05-11T02:17:09.000Z</published>
    <updated>2023-05-11T02:30:35.806Z</updated>
    
    <content type="html"><![CDATA[<h2 id="题干">题干</h2><p>罗马数字包含以下七种字符： I， V， X， L，C，D 和 M。</p><pre class="line-numbers language-none"><code class="language-none">字符          数值I             1V             5X             10L             50C             100D             500M             1000<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre><p>例如， 罗马数字 2 写做 II ，即为两个并列的 1。12 写做 XII ，即为 X + II 。 27 写做  XXVII, 即为 XX + V + II 。</p><p>通常情况下，罗马数字中小的数字在大的数字的右边。但也存在特例，例如 4 不写做 IIII，而是 IV。数字 1 在数字 5 的左边，所表示的数等于大数 5 减小数 1 得到的数值 4 。同样地，数字 9 表示为 IX。这个特殊的规则只适用于以下六种情况：</p><ul><li>I 可以放在 V (5) 和 X (10) 的左边，来表示 4 和 9。</li><li>X 可以放在 L (50) 和 C (100) 的左边，来表示 40 和 90。</li><li>C 可以放在 D (500) 和 M (1000) 的左边，来表示 400 和 900。</li></ul><p>给你一个整数，将其转为罗马数字。</p><blockquote><p>示例 1:<br>输入: num = 3<br>输出: “III”</p></blockquote><blockquote><p>示例 2:<br>输入: num = 4<br>输出: “IV”</p></blockquote><blockquote><p>示例 3:<br>输入: num = 9<br>输出: “IX”</p></blockquote><blockquote><p>示例 4:<br>输入: num = 58<br>输出: “LVIII”<br>解释: L = 50, V = 5, III = 3.</p></blockquote><blockquote><p>示例 5:<br>输入: num = 1994<br>输出: “MCMXCIV”<br>解释: M = 1000, CM = 900, XC = 90, IV = 4.</p></blockquote><blockquote><p>提示：<br>1 &lt;= num &lt;= 3999</p></blockquote><h2 id="python">python</h2><pre class="line-numbers language-python" data-language="python"><code class="language-python"><span class="token keyword">class</span> <span class="token class-name">Solution</span><span class="token punctuation">:</span>    <span class="token keyword">def</span> <span class="token function">intToRoman</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span> num<span class="token punctuation">:</span> <span class="token builtin">int</span><span class="token punctuation">)</span> <span class="token operator">-</span><span class="token operator">&gt;</span> <span class="token builtin">str</span><span class="token punctuation">:</span>        <span class="token comment"># 使用哈希表，按照从大到小顺序排列</span>        hashmap <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token number">1000</span><span class="token punctuation">:</span><span class="token string">'M'</span><span class="token punctuation">,</span> <span class="token number">900</span><span class="token punctuation">:</span><span class="token string">'CM'</span><span class="token punctuation">,</span> <span class="token number">500</span><span class="token punctuation">:</span><span class="token string">'D'</span><span class="token punctuation">,</span> <span class="token number">400</span><span class="token punctuation">:</span><span class="token string">'CD'</span><span class="token punctuation">,</span> <span class="token number">100</span><span class="token punctuation">:</span><span class="token string">'C'</span><span class="token punctuation">,</span> <span class="token number">90</span><span class="token punctuation">:</span><span class="token string">'XC'</span><span class="token punctuation">,</span> <span class="token number">50</span><span class="token punctuation">:</span><span class="token string">'L'</span><span class="token punctuation">,</span> <span class="token number">40</span><span class="token punctuation">:</span><span class="token string">'XL'</span><span class="token punctuation">,</span> <span class="token number">10</span><span class="token punctuation">:</span><span class="token string">'X'</span><span class="token punctuation">,</span> <span class="token number">9</span><span class="token punctuation">:</span><span class="token string">'IX'</span><span class="token punctuation">,</span> <span class="token number">5</span><span class="token punctuation">:</span><span class="token string">'V'</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">:</span><span class="token string">'IV'</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">:</span><span class="token string">'I'</span><span class="token punctuation">}</span>        res <span class="token operator">=</span> <span class="token string">''</span>        <span class="token keyword">for</span> key <span class="token keyword">in</span> hashmap<span class="token punctuation">:</span>            <span class="token keyword">if</span> num <span class="token operator">//</span> key <span class="token operator">!=</span> <span class="token number">0</span><span class="token punctuation">:</span>                count <span class="token operator">=</span> num <span class="token operator">//</span> key  <span class="token comment"># 比如输入4000，count 为 4</span>                res <span class="token operator">+=</span> hashmap<span class="token punctuation">[</span>key<span class="token punctuation">]</span> <span class="token operator">*</span> count                 num <span class="token operator">%=</span> key        <span class="token keyword">return</span> res<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>]]></content>
    
    
      
      
    <summary type="html">&lt;h2 id=&quot;题干&quot;&gt;题干&lt;/h2&gt;
&lt;p&gt;罗马数字包含以下七种字符： I， V， X， L，C，D 和 M。&lt;/p&gt;
&lt;pre class=&quot;line-numbers language-none&quot;&gt;&lt;code class=&quot;language-none&quot;&gt;字符         </summary>
      
    
    
    
    <category term="算法笔记" scheme="https://jxch.github.io/categories/%E7%AE%97%E6%B3%95%E7%AC%94%E8%AE%B0/"/>
    
    
    <category term="LeetCode" scheme="https://jxch.github.io/tags/LeetCode/"/>
    
  </entry>
  
  <entry>
    <title>LeetCode-11.盛最多水的容器</title>
    <link href="https://jxch.github.io/2023/05/11/leetcode/leetcode-11-sheng-zui-duo-shui-de-rong-qi/"/>
    <id>https://jxch.github.io/2023/05/11/leetcode/leetcode-11-sheng-zui-duo-shui-de-rong-qi/</id>
    <published>2023-05-11T02:10:55.000Z</published>
    <updated>2023-05-11T02:15:23.174Z</updated>
    
    <content type="html"><![CDATA[<h2 id="题干">题干</h2><p>给定一个长度为 n 的整数数组 height 。有 n 条垂线，第 i 条线的两个端点是 (i, 0) 和 (i, height[i]) 。<br>找出其中的两条线，使得它们与 x 轴共同构成的容器可以容纳最多的水。<br>返回容器可以储存的最大水量。<br>说明：你不能倾斜容器。</p><blockquote><p>示例 1：<br>输入：[1,8,6,2,5,4,8,3,7]<br>输出：49<br>解释：容器能够容纳水的最大值为 49 (8和7, 7*7=49)。</p></blockquote><blockquote><p>示例 2：<br>输入：height = [1,1]<br>输出：1</p></blockquote><blockquote><p>提示：<br>$n == height.length$<br>$2 &lt;= n &lt;= 10^5$<br>$0 &lt;= height[i] &lt;= 10^4$</p></blockquote><h2 id="python">python</h2><pre class="line-numbers language-python" data-language="python"><code class="language-python"><span class="token keyword">class</span> <span class="token class-name">Solution</span><span class="token punctuation">:</span>    <span class="token keyword">def</span> <span class="token function">maxArea</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span> height<span class="token punctuation">:</span> List<span class="token punctuation">[</span><span class="token builtin">int</span><span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token operator">-</span><span class="token operator">&gt;</span> <span class="token builtin">int</span><span class="token punctuation">:</span>        left<span class="token punctuation">,</span> right <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token builtin">len</span><span class="token punctuation">(</span>height<span class="token punctuation">)</span> <span class="token operator">-</span> <span class="token number">1</span>        res <span class="token operator">=</span> <span class="token number">0</span>        <span class="token keyword">while</span> left <span class="token operator">&lt;</span> right<span class="token punctuation">:</span>            area <span class="token operator">=</span> <span class="token builtin">min</span><span class="token punctuation">(</span>height<span class="token punctuation">[</span>left<span class="token punctuation">]</span><span class="token punctuation">,</span> height<span class="token punctuation">[</span>right<span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token operator">*</span> <span class="token punctuation">(</span>right <span class="token operator">-</span> left<span class="token punctuation">)</span>            res <span class="token operator">=</span> <span class="token builtin">max</span><span class="token punctuation">(</span>res<span class="token punctuation">,</span> area<span class="token punctuation">)</span>            <span class="token keyword">if</span> height<span class="token punctuation">[</span>left<span class="token punctuation">]</span> <span class="token operator">&lt;</span> height<span class="token punctuation">[</span>right<span class="token punctuation">]</span><span class="token punctuation">:</span>                left <span class="token operator">+=</span> <span class="token number">1</span>            <span class="token keyword">else</span><span class="token punctuation">:</span>                right <span class="token operator">-=</span> <span class="token number">1</span>        <span class="token keyword">return</span> res<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>]]></content>
    
    
      
      
    <summary type="html">&lt;h2 id=&quot;题干&quot;&gt;题干&lt;/h2&gt;
&lt;p&gt;给定一个长度为 n 的整数数组 height 。有 n 条垂线，第 i 条线的两个端点是 (i, 0) 和 (i, height[i]) 。&lt;br&gt;
找出其中的两条线，使得它们与 x 轴共同构成的容器可以容纳最多的水。&lt;br&gt;
返回容</summary>
      
    
    
    
    <category term="算法笔记" scheme="https://jxch.github.io/categories/%E7%AE%97%E6%B3%95%E7%AC%94%E8%AE%B0/"/>
    
    
    <category term="LeetCode" scheme="https://jxch.github.io/tags/LeetCode/"/>
    
  </entry>
  
</feed>
